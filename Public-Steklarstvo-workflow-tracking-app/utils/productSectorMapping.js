// backend/utils/productSectorMapping.js
const defaultMapping = {
  "01": "Odrez in obdelava stekla",
  "02": "Odrez in obdelava stekla",
  "03": "Odrez in obdelava stekla",
  "04": "Odrez in obdelava stekla",
  "05": "Odrez in obdelava stekla",
  "06": "Zunanji steklar",
  "07": "Kaljenje ali/in lepljenje stekla",
  "08": "Zunanji steklar",
  "09": "Odrez in obdelava stekla",
  "10": "Zunanji steklar",
  "11": "Odrez in obdelava stekla",
  "12": "Odrez in obdelava stekla",
  "13": "Ostala obdelava stekla",
  "14": "Storitev delavnica",
  "15": "Odrez in obdelava stekla",
  "16": "Storitev delavnica",
  "17": "Izris in priprava folije",
  "18": "Okovje, okvirji",
  "19": "Ostalo",
  "20": "Okovje, okvirji",
  "21": "Okovje, okvirji",
  "23": "Okovje, okvirji",
  "24": "Okovje, okvirji",
  "25": "Okovje, okvirji",
  "26": "Okovje, okvirji",
  "27": "Okovje, okvirji",
  "28": "Okovje, okvirji",
  "29": "Okovje, okvirji",
  "30": "Okovje, okvirji",
  "31": "Okovje, okvirji",
  "32": "Okovje, okvirji",
  "33": "Okovje, okvirji",
  "34": "Okovje, okvirji",
  "35": "Okovje, okvirji",
  "36": "Okovje, okvirji",
  "37": "Okovje, okvirji",
  "38": "Okovje, okvirji",
  "39": "Okovje, okvirji",
  "40": "Odrez in obdelava stekla",
  "41": "Zunanji steklar",
  "42": "Okovje, okvirji",
  "43": "Okovje, okvirji",
  "44": "Okovje, okvirji",
  "45": "Zunanji steklar",
  "46": "",
  "47": "",
  "51": "",
  "55": "",
  "48": "Okovje, okvirji",
  "49": "Okovje, okvirji",
  "52": "Okovje, okvirji",
  "53": "Okovje, okvirji",
  "54": "Okovje, okvirji"
};

const exceptionsMapping = {
  "0769985": "Zunanji steklar",
  "0769986": "Zunanji steklar",
  "0769986A": "Zunanji steklar",
  "0769986B": "Zunanji steklar",
  "0769987": "Zunanji steklar",
  "0769987A": "Zunanji steklar",
  "0769987B": "Zunanji steklar",
  "0769988": "Ostala obdelava stekla",
  "0769988A": "Ostala obdelava stekla",
  "0769988B": "Ostala obdelava stekla",
  "1675200": "Ostalo",
  "1675200A": "Ostalo",
  "1675200C": "Ostalo",
  "1675200D": "Ostalo",
  "1675201": "Ostalo",
  "1675202": "Ostalo",
  "1675250": "Ostalo",
  "1675580": "Ostalo",
  "1675801": "Ostalo",
  "1675802": "Ostalo",
  "1675802K": "Ostalo",
  "1675803": "Ostalo",
  "1675804": "Ostalo",
  "1675804A": "Ostalo",
  "1675805": "Ostalo",
  "1675806": "Ostalo",
  "1675806A": "Ostalo",
  "1675810": "Ostalo",
  "1675811": "Ostalo",
  "1675812": "Ostalo",
  "1675200B": "Barvanje profilov/obdelava kovine",
  "1675203": "Barvanje profilov/obdelava kovine",
  "1675204": "Barvanje profilov/obdelava kovine",
  "1675205": "Barvanje profilov/obdelava kovine",
  "1675310": "Lepljenje folije/peskanje",
  "1675400": "Lepljenje folije/peskanje",
  "1675500": "Lepljenje folije/peskanje",
  "1675520": "Lepljenje folije/peskanje",
  "1675529": "Lepljenje folije/peskanje",
  "1675530": "Lepljenje folije/peskanje",
  "1675540": "Lepljenje folije/peskanje",
  "1675541": "Lepljenje folije/peskanje",
  "1675549": "Lepljenje folije/peskanje",
  "1675550": "Lepljenje folije/peskanje",
  "1675570": "Lepljenje folije/peskanje",
  "1675700A": "Premaz stekla",
  "1771300": "Lepljenje folije/peskanje",
  "1771301": "Lepljenje folije/peskanje",
  "4010004": "Storitev delavnica",
  "4010005": "Storitev delavnica",
  "4010006": "Storitev delavnica",
  "4010007": "Storitev delavnica",
  "42000100": "",
  "42000101": "",
  "42000103": "",
  "4290085A": "",
  "4295001": "",
  "4295002": "",
  "4295003": "",
  "4295004": "",
  "4295005": "",
  "4295006": "",
  "4295011": "",
  "4295012": "",
  "4295013": "",
  "4295014": "",
  "4295015": "",
  "4295016": "",
  "42VZOREC": "",
  "42VZOREC1": "",
  "42VZOREC2": "",
  "42VZOREC3": "",
  "42VZORECKNJIGA": "",
  "42VZORECOGLEDALA": ""
};

const productSectorMapping = (productCode) => {
  if (!productCode) return "Ostala obdelava stekla";
  const cleanedCode = productCode.replace(/\s/g, "").toUpperCase();
  if (exceptionsMapping.hasOwnProperty(cleanedCode)) {
    return exceptionsMapping[cleanedCode];
  }
  const prefix = cleanedCode.substring(0, 2);
  return defaultMapping[prefix] || "Ostala obdelava stekla";
};

module.exports = productSectorMapping;
